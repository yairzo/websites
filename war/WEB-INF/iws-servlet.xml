<?xml version="1.0" encoding="UTF-8"?>

<beans
  xmlns="http://www.springframework.org/schema/beans"
  xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
  xmlns:aop="http://www.springframework.org/schema/aop"
  xsi:schemaLocation="http://www.springframework.org/schema/beans
    http://www.springframework.org/schema/beans/spring-beans.xsd
    http://www.springframework.org/schema/aop
    http://www.springframework.org/schema/aop/spring-aop.xsd">

	<!-- <bean id="messageSource" class="org.springframework.context.support.Resourc eBundleMessageSource">
		<property name="basename" value="messages"/>
	</bean> -->

	<bean id="loginController" class="huard.iws.web.LoginController" parent="generalController">
		<!--<property name="messageService">
            <ref bean="messageService"/>
        </property> -->
     </bean>

	<bean id="viewMessageController" class="huard.iws.web.ViewMessageController" parent="generalController"/>

	<bean id="deleteOrganizationUnitController" class="huard.iws.web.DeleteOrganizationUnitController" parent="generalFormController">
 		<property name="commandName"><value>command</value></property>
        <property name="commandClass"><value>huard.iws.bean.OrganizationUnitBean</value></property>
        <property name="formView"><value>deleteOrganizationUnit</value></property>
        <property name="successView"><value>organizationUnits.html</value></property>
    	<property name="organizationUnitService">
            <ref bean="organizationUnitService"/>
        </property>
     </bean>

	<bean id="editOrganizationUnitAttributionController" class="huard.iws.web.EditOrganizationUnitAttributionController" parent="generalFormController">
 		<property name="commandName"><value>command</value></property>
        <property name="commandClass"><value>huard.iws.bean.OrganizationUnitAttributionBean</value></property>
        <property name="formView"><value>editOrganizationUnitAttribution</value></property>
        <property name="successView"><value>organizationUnitAttribution.html</value></property>
    	<property name="listListService">
            <ref bean="listListService"/>
        </property>
        <property name="organizationUnitService">
            <ref bean="organizationUnitService"/>
        </property>
     </bean>


	<bean id="editOrganizationUnitController" class="huard.iws.web.EditOrganizationUnitController" parent="generalFormController">
 		<property name="commandName"><value>command</value></property>
        <property name="commandClass"><value>huard.iws.bean.OrganizationUnitBean</value></property>
        <property name="formView"><value>editOrganizationUnit</value></property>
        <property name="successView"><value>organizationUnit.html</value></property>
    	<property name="organizationUnitService">
            <ref bean="organizationUnitService"/>
        </property>
        <property name="facultyService">
            <ref bean="facultyService"/>
        </property>
     </bean>

	<bean id="organizationUnitListController" class="huard.iws.web.OrganizationUnitListController" parent="generalFormController">
 		<property name="commandName"><value>command</value></property>
        <property name="commandClass"><value>huard.iws.web.OrganizationUnitListController$OrganizationUnitListControllerCommand</value></property>
        <property name="formView"><value>organizationUnitList</value></property>
        <property name="successView"><value>organizationUnits.html</value></property>
    	<property name="organizationUnitService">
            <ref bean="organizationUnitService"/>
        </property>
        <property name="recordProtectService">
            <ref bean="recordProtectService"/>
        </property>
     </bean>

	<bean id="postListController" class="huard.iws.web.PostListController" parent="generalFormController">
 		<property name="commandName"><value>command</value></property>
        <property name="commandClass"><value>huard.iws.web.PostListController$PostListControllerCommand</value></property>
        <property name="formView"><value>postList</value></property>
        <property name="successView"><value>posts.html</value></property>
    	<!--<property name="messageService">
            <ref bean="messageService"/>
        </property> -->
    	<property name="postService">
            <ref bean="postService"/>
        </property>
    </bean>
     
	<bean id="urlsListController" class="huard.iws.web.UrlsListController" parent="generalFormController">
 		<property name="commandName"><value>command</value></property>
        <property name="commandClass"><value>huard.iws.web.UrlsListController$UrlListControllerCommand</value></property>
        <property name="formView"><value>urlsList</value></property>
        <property name="successView"><value>urls.html</value></property>
    	<property name="urlsCheckerService">
            <ref bean="urlsCheckerService"/>
        </property>
     </bean>
     
	<bean id="activePersonsController" class="huard.iws.web.ActivePersonsController" parent="generalFormController">
 		<property name="commandName"><value>command</value></property>
        <property name="commandClass"><value>huard.iws.web.ActivePersonsController$ActivePersonsControllerCommand</value></property>
        <property name="formView"><value>activePersonsList</value></property>
        <property name="successView"><value>active.html</value></property>
     </bean>
	
	<bean id="editCallForProposalController" class="huard.iws.web.EditCallForProposalController" parent="generalFormController">
 		<property name="commandName"><value>command</value></property>
        <property name="commandClass"><value>huard.iws.bean.CallForProposalBean</value></property>
        <property name="formView"><value>editCallForProposal</value></property>
        <property name="successView"><value>editCallForProposal.html</value></property>
     	<property name="subjectService">
            <ref bean="subjectService"/>
        </property>
     	<property name="callForProposalService">
            <ref bean="callForProposalService"/>
        </property>
    	<property name="fundService">
            <ref bean="fundService"/>
        </property>
   		<property name="mopDeskService">
            <ref bean="mopDeskService"/>
        </property>
     </bean>
     
	<bean id="callForProposalController" class="huard.iws.web.CallForProposalController" parent="generalFormController">
 		<property name="commandName"><value>command</value></property>
        <property name="commandClass"><value>huard.iws.bean.CallForProposalBean</value></property>
        <property name="formView"><value>callForProposal</value></property>
        <property name="successView"><value>callForProposal.html</value></property>
     	<property name="callForProposalService">
            <ref bean="callForProposalService"/>
        </property>
   		<property name="categoryService">
            <ref bean="categoryService"/>
        </property>
   		<property name="fundService">
            <ref bean="fundService"/>
        </property>
     </bean>
     
 	<bean id="callForProposalListController" class="huard.iws.web.CallForProposalListController" parent="generalFormController">
 		<property name="commandName"><value>command</value></property>
        <property name="commandClass"><value>huard.iws.web.CallForProposalListController$CallForProposalListControllerCommand</value></property>
        <property name="formView"><value>callForProposals</value></property>
        <property name="successView"><value>callForProposals.html</value></property>
     	<property name="callForProposalService">
            <ref bean="callForProposalService"/>
        </property>
   		<property name="mopDeskService">
            <ref bean="mopDeskService"/>
        </property>
    	<property name="subjectService">
            <ref bean="subjectService"/>
        </property>
   		<property name="fundService">
            <ref bean="fundService"/>
        </property>
    	<property name="sphinxSearchService">
            <ref bean="sphinxSearchService"/>
        </property>
      </bean>
      
	<bean id="searchWebsiteController" class="huard.iws.web.SearchWebsiteController" parent="generalFormController">
 		<property name="commandName"><value>command</value></property>
        <property name="commandClass"><value>huard.iws.web.SearchWebsiteController$SearchWebsiteControllerCommand</value></property>
        <property name="formView"><value>searchPage</value></property>
        <property name="successView"><value>searchPage.html</value></property>
     	<property name="callForProposalService">
            <ref bean="callForProposalService"/>
        </property>
   		<property name="mopDeskService">
            <ref bean="mopDeskService"/>
        </property>
    	<property name="subjectService">
            <ref bean="subjectService"/>
        </property>
   		<property name="fundService">
            <ref bean="fundService"/>
        </property>
    	<property name="categoryService">
            <ref bean="categoryService"/>
        </property>
    	<property name="sphinxSearchService">
            <ref bean="sphinxSearchService"/>
        </property>
      </bean>
     
	<bean id="editTextualPageController" class="huard.iws.web.EditTextualPageController" parent="generalFormController">
 		<property name="commandName"><value>command</value></property>
        <property name="commandClass"><value>huard.iws.bean.TextualPageBean</value></property>
        <property name="formView"><value>editTextualPage</value></property>
        <property name="successView"><value>editTextualPage.html</value></property>
     	<property name="textualPageService">
            <ref bean="textualPageService"/>
        </property>
    	<property name="mopDeskService">
            <ref bean="mopDeskService"/>
        </property>
    	<property name="listListService">
            <ref bean="listListService"/>
        </property>
   		<property name="categoryService">
            <ref bean="categoryService"/>
        </property>
        <property name="validator">
        	<bean class="huard.iws.web.validate.TextualPageValidator"/>
        </property>
     </bean>
     
	<bean id="textualPageController" class="huard.iws.web.TextualPageController" parent="generalFormController">
 		<property name="commandName"><value>command</value></property>
        <property name="commandClass"><value>huard.iws.bean.TextualPageBean</value></property>
        <property name="formView"><value>textualPage</value></property>
        <property name="successView"><value>textualPage.html</value></property>
     	<property name="textualPageService">
            <ref bean="textualPageService"/>
        </property>
   		<property name="categoryService">
            <ref bean="categoryService"/>
        </property>
     </bean>
 
  	<bean id="textualPageListController" class="huard.iws.web.TextualPageListController" parent="generalFormController">
 		<property name="commandName"><value>command</value></property>
        <property name="commandClass"><value>huard.iws.web.TextualPageListController$TextualPageListControllerCommand</value></property>
        <property name="formView"><value>textualPages</value></property>
        <property name="successView"><value>textualPages.html</value></property>
     	<property name="textualPageService">
            <ref bean="textualPageService"/>
        </property>
      </bean>
 
	<bean id="editCategoryController" class="huard.iws.web.EditCategoryController" parent="generalFormController">
 		<property name="commandName"><value>command</value></property>
        <property name="commandClass"><value>huard.iws.bean.CategoryBean</value></property>
        <property name="formView"><value>editCategory</value></property>
        <property name="successView"><value>category.html</value></property>
     	<property name="textualPageService">
            <ref bean="textualPageService"/>
        </property>
   		<property name="categoryService">
            <ref bean="categoryService"/>
        </property>
     </bean>
 
  	<bean id="categoryListController" class="huard.iws.web.CategoryListController" parent="generalFormController">
 		<property name="commandName"><value>command</value></property>
        <property name="commandClass"><value>huard.iws.web.CategoryListController$CategoryListBean</value></property>
        <property name="formView"><value>categories</value></property>
        <property name="successView"><value>categories.html</value></property>
     	<property name="categoryService">
            <ref bean="categoryService"/>
        </property>
      </bean>
 
      <bean id="editTemporaryFundController" class="huard.iws.web.EditTemporaryFundController" parent="generalFormController">
 		<property name="commandName"><value>command</value></property>
        <property name="commandClass"><value>huard.iws.bean.FundBean</value></property>
        <property name="formView"><value>editTemporaryFund</value></property>
        <property name="successView"><value>temporaryFund.html</value></property>
     	<property name="fundService">
            <ref bean="fundService"/>
        </property>
    	<property name="mopDeskService">
            <ref bean="mopDeskService"/>
        </property>
     </bean>
 
  	<bean id="temporaryFundListController" class="huard.iws.web.TemporaryFundListController" parent="generalFormController">
 		<property name="commandName"><value>command</value></property>
        <property name="commandClass"><value>huard.iws.web.TemporaryFundListController$TemporaryFundListControllerCommand</value></property>
        <property name="formView"><value>temporaryFunds</value></property>
        <property name="successView"><value>temporaryFunds.html</value></property>
     	<property name="fundService">
            <ref bean="fundService"/>
        </property>
      </bean>
     
	<bean id="approvePostController" class="huard.iws.web.ApprovePostController" parent="generalController">
		<property name="postService">
            <ref bean="postService"/>
        </property>
        <property name="mailMessageService">
            <ref bean="mailMessageService"/>
        </property> 
      </bean>

      <bean id="enablePersonUserController" class="huard.iws.web.EnablePersonUserController" parent="generalController">
		<property name="personService">
            <ref bean="personService"/>
        </property>
      </bean>

	<bean id="editPartnerController" class="huard.iws.web.EditPartnerController" parent="generalFormController">
 		<property name="commandName"><value>command</value></property>
        <property name="commandClass"><value>huard.iws.bean.PartnerBean</value></property>
        <property name="formView"><value>editPartner</value></property>
        <property name="successView"><value>partner.html</value></property>

    	<property name="partnerService">
            <ref bean="partnerService"/>
        </property>
        <property name="instituteService">
            <ref bean="instituteService"/>
        </property>
        <property name="instituteListService">
            <ref bean="instituteListService"/>
        </property>
       <property name="mailMessageService">
            <ref bean="mailMessageService"/>
        </property> 
     </bean>

      <bean id="editInstituteController" class="huard.iws.web.EditInstituteController" parent="generalFormController">
 		<property name="commandName"><value>command</value></property>
        <property name="commandClass"><value>huard.iws.bean.InstituteBean</value></property>
        <property name="formView"><value>editInstitute</value></property>
        <property name="successView"><value>institute.html</value></property>

        <property name="instituteService">
            <ref bean="instituteService"/>
        </property>
        <property name="universeService">
            <ref bean="universeService"/>
        </property>
      </bean>

	<bean id="editPersonPostSubscriptionController" class="huard.iws.web.EditPersonPostSubscriptionController" parent="generalFormController">
 		<property name="commandName"><value>command</value></property>
        <property name="commandClass"><value>huard.iws.bean.PersonBean</value></property>
        <property name="formView"><value>editPersonPostSubscription</value></property>
        <property name="successView"><value>personPost.html</value></property>
        <property name="subjectService">
            <ref bean="subjectService"/>
        </property>
      </bean>


	<bean id="editPostController" class="huard.iws.web.EditPostController" parent="generalFormController">
 		<property name="commandName"><value>command</value></property>
        <property name="commandClass"><value>huard.iws.bean.PostBean</value></property>
        <property name="formView"><value>editPost</value></property>
        <property name="successView"><value>post.html</value></property>

    	<property name="postService">
            <ref bean="postService"/>
        </property>
        <property name="personListService">
            <ref bean="personListService"/>
        </property>
        <property name="subjectService">
            <ref bean="subjectService"/>
        </property>
        <property name="sendPostService">
            <ref bean="sendPostService"/>
        </property>
     	<property name="callForProposalService">
            <ref bean="callForProposalService"/>
        </property>
       <!--<property name="messageService">
            <ref bean="messageService"/>
        </property>-->
      </bean>

	<bean id="proposalStateHistoryController" class="huard.iws.web.ProposalStateHistoryController"
			parent="generalController">
		<property name="proposalStateHistoryService">
            <ref bean="proposalStateHistoryService"/>
        </property>
    </bean>

	<bean id="sendMessageController" class="huard.iws.web.SendMessageController" parent="generalFormController">
 		<property name="commandName"><value>command</value></property>
        <property name="commandClass"><value>huard.iws.bean.MailMessageBean</value></property>
        <property name="formView"><value>sendMessage</value></property>
        <property name="successView"><value>close.html</value></property>

    	<property name="personAttributionListService">
            <ref bean="personAttributionListService"/>
        </property>
        <property name="listService">
            <ref bean="listService"/>
        </property>
        <property name="mailMessageService">
            <ref bean="mailMessageService"/>
        </property>
        <!--<property name="messageService">
            <ref bean="messageService"/>
        </property>-->
    </bean>

	<bean id="applicationContextProvider" class="huard.iws.util.ApplicationContextProvider"/>

	<bean id="multipartResolver" class="org.springframework.web.multipart.commons.CommonsMultipartResolver">
	    <property name="maxUploadSize" value="5000000"/>
	    <property name="defaultEncoding" value="UTF-8"/>
	</bean>


	<bean id="welcomeController" class="huard.iws.web.WelcomeController" parent="generalController"/>


	<bean id="viewListController" class="huard.iws.web.ViewListController" parent="generalFormController">
		<property name="commandName"><value>command</value></property>
        <property name="commandClass"><value>huard.iws.web.ViewListController$ViewListControllerCommand</value></property>
        <property name="formView"><value>viewList</value></property>
        <property name="successView"><value>viewList.html</value></property>
		<property name="listService">
            <ref bean="listService"/>
        </property>
        <property name="listColumnInstructionService">
            <ref bean="listColumnInstructionService"/>
        </property>
        <property name="organizationUnitService">
            <ref bean="organizationUnitService"/>
        </property>
      </bean>

	<bean id="editProposalController" class="huard.iws.web.EditProposalController" parent="generalFormController">
 		<property name="commandName"><value>command</value></property>
        <property name="commandClass"><value>huard.iws.web.EditProposalController$EditProposalControllerCommand</value></property>
        <property name="formView"><value>editProposal</value></property>
        <property name="successView"><value>proposals.html</value></property>
        <property name="validator"><ref bean="editProposalValidator"/></property>

    	<property name="proposalService">
            <ref bean="proposalService"/>
        </property>
        <property name="proposalListService">
            <ref bean="proposalListService"/>
        </property>
        <property name="personListService">
            <ref bean="personListService"/>
        </property>
     	<property name="personProposalService">
            <ref bean="personProposalService"/>
        </property>
        <property name="fundService">
            <ref bean="fundService"/>
        </property>
        <property name="mailMessageService">
            <ref bean="mailMessageService"/>
        </property>
        <property name="proposalStateHistoryService">
            <ref bean="proposalStateHistoryService"/>
        </property>
        <property name="personProposalMessageService">
        	<ref bean="personProposalMessageService"/>
        </property>
        <property name="proposalStateService">
        	<ref bean="proposalStateService"/>
        </property>
        <property name="personProposalStateService">
        	<ref bean="personProposalStateService"/>
        </property>
        <property name="universeService">
        	<ref bean="universeService"/>
        </property>
        <property name="instituteListService">
        	<ref bean="instituteListService"/>
        </property>
        <property name="partnerService">
        	<ref bean="partnerService"/>
        </property>
        <property name="partnerListService">
        	<ref bean="partnerListService"/>
        </property>
        <property name="partnerProposalService">
        	<ref bean="partnerProposalService"/>
        </property>
        <property name="mopDeskService">
	        <ref bean="mopDeskService"/>
        </property>
    </bean>

    <bean id="proposalListController" class="huard.iws.web.ProposalListController" parent="generalFormController">
 		<property name="commandName"><value>command</value></property>
        <property name="commandClass"><value>huard.iws.web.ProposalListController$ProposalListControllerCommand</value></property>
        <property name="formView"><value>proposalList</value></property>
        <property name="successView"><value>proposals.html</value></property>
    	<property name="proposalListService">
            <ref bean="proposalListService"/>
        </property>
        <property name="recordProtectService">
            <ref bean="recordProtectService"/>
        </property>
        <property name="fundService">
            <ref bean="fundService"/>
        </property>
        <property name="proposalStateService">
        	<ref bean="proposalStateService"/>
        </property>
        <property name="proposalService">
        	<ref bean="proposalService"/>
        </property>
        <property name="personListService">
            <ref bean="personListService"/>
        </property>
     </bean>

     <bean id="busyRecordsController" class="huard.iws.web.BusyRecordsController" parent="generalController">
		<property name="recordProtectService">
			<ref bean="recordProtectService"/>
		</property>
	 </bean>


	<bean id="editListColumnInstructionController" class="huard.iws.web.EditListColumnInstructionController"
			parent="generalFormController">
    	<property name="commandName"><value>command</value></property>
        <property name="commandClass"><value>huard.iws.model.AListColumnInstruction</value></property>
        <property name="formView"><value>editListColumnInstruction</value></property>
        <property name="successView"><value>list.html</value></property>
    	<property name="listColumnInstructionService">
            <ref bean="listColumnInstructionService"/>
        </property>
    </bean>



    <bean id="deleteListColumnInstructionController" class="huard.iws.web.DeleteListColumnInstructionController"
    		parent="generalFormController">
    	<property name="commandName"><value>command</value></property>
        <property name="commandClass"><value>huard.iws.model.AListColumnInstruction</value></property>
        <property name="formView"><value>deleteListColumnInstruction</value></property>
        <property name="successView"><value>list.html</value></property>
    	<property name="listColumnInstructionService">
            <ref bean="listColumnInstructionService"/>
        </property>
    </bean>

	<bean id="editListController" class="huard.iws.web.EditListController" parent="generalFormController">
    	<property name="commandName"><value>command</value></property>
        <property name="commandClass"><value>huard.iws.bean.AListBean</value></property>
        <property name="formView"><value>editList</value></property>
        <property name="successView"><value>lists.html</value></property>
    	<property name="listService">
            <ref bean="listService"/>
        </property>
        <property name="listInstructionService">
            <ref bean="listInstructionService"/>
        </property>
        <property name="listInstructionListService">
            <ref bean="listInstructionListService"/>
        </property>
        <property name="listColumnInstructionListService">
            <ref bean="listColumnInstructionListService"/>
        </property>
        <property name="listColumnInstructionService">
            <ref bean="listColumnInstructionService"/>
        </property>
        <property name="listListService">
            <ref bean="listListService"/>
        </property>
     </bean>





    <bean id="deleteListController" class="huard.iws.web.DeleteListController" parent="generalFormController">
 		<property name="commandName"><value>command</value></property>
        <property name="commandClass"><value>huard.iws.model.AList</value></property>
        <property name="formView"><value>deleteList</value></property>
        <property name="successView"><value>lists.html</value></property>
        <property name="listService">
            <ref bean="listService"/>
        </property>
     </bean>


    <bean id="editListOrderController" class="huard.iws.web.EditListOrderController" parent="generalFormController">
    	<property name="commandName"><value>command</value></property>
        <property name="commandClass"><value>huard.iws.web.EditListOrderController$EditListOrderControllerCommand</value></property>
        <property name="formView"><value>editListOrder</value></property>
        <property name="successView"><value>listOrder.html</value></property>
    	<property name="listService">
            <ref bean="listService"/>
        </property>
        <property name="personAttributionService">
            <ref bean="personAttributionService"/>
        </property>
        <property name="personAttributionListService">
            <ref bean="personAttributionListService"/>
        </property>
    </bean>

	<bean id="editListInstructionController" class="huard.iws.web.EditListInstructionController"
		parent="generalFormController">
    	<property name="commandName"><value>command</value></property>
        <property name="commandClass"><value>huard.iws.model.AListInstruction</value></property>
        <property name="formView"><value>editListInstruction</value></property>
        <property name="successView"><value>list.html</value></property>
    	<property name="listInstructionService">
            <ref bean="listInstructionService"/>
        </property>
        <property name="validator">
        	<bean class="huard.iws.web.validate.EditListInstructionValidator"/>
        </property>
        <property name="listColumnInstructionService">
            <ref bean="listColumnInstructionService"/>
        </property>
        <property name="tableDescriptionService">
            <ref bean="tableDescriptionService"/>
        </property>
    </bean>

	<bean id="deleteListInstructionController" class="huard.iws.web.DeleteListInstructionController"
		parent="generalFormController">
 		<property name="commandName"><value>command</value></property>
        <property name="commandClass"><value>huard.iws.bean.AListInstructionBean</value></property>
        <property name="formView"><value>deleteListInstruction</value></property>
        <property name="successView"><value>list.html</value></property>
        <property name="listInstructionService">
            <ref bean="listInstructionService"/>
        </property>
        <property name="listService">
            <ref bean="listService"/>
        </property>
    </bean>


    <bean id="generalFormController" class="huard.iws.web.GeneralFormController" abstract="true">
    	<property name="personService">
            <ref bean="personService"/>
        </property>
  		<property name="personPrivilegeService">
            <ref bean="personPrivilegeService"/>
        </property>
        <property name="userMessageService">
            <ref bean="userMessageService"/>
        </property>
        <property name="messageService">
            <ref bean="messageService"/>
        </property>
        <property name="configurationService">
            <ref bean="configurationService"/>
        </property>
        <property name="mailMessageService">
            <ref bean="mailMessageService"/>
        </property>
     </bean>

     <bean id="generalController" class="huard.iws.web.GeneralController" abstract="true">
    	<property name="personService">
            <ref bean="personService"/>
        </property>
    	<property name="personPrivilegeService">
            <ref bean="personPrivilegeService"/>
        </property>
        <property name="userMessageService">
            <ref bean="userMessageService"/>
        </property>
        <property name="messageService">
            <ref bean="messageService"/>
        </property>
       <property name="configurationService">
            <ref bean="configurationService"/>
        </property>
     </bean>


    <bean id="listController" class="huard.iws.web.ListController" parent="generalFormController">
    	<property name="commandName"><value>command</value></property>
        <property name="commandClass"><value>huard.iws.bean.AListBean</value></property>
        <property name="formView"><value>listList</value></property>
        <property name="successView"><value>lists.html</value></property>

    	<property name="listListService">
            <ref bean="listListService"/>
        </property>
        <property name="listService">
            <ref bean="listService"/>
        </property>
        <property name="recordProtectService">
            <ref bean="recordProtectService"/>
        </property>
    </bean>

    <bean id="personListController" class="huard.iws.web.PersonListController" parent="generalFormController">
 		<property name="commandName"><value>command</value></property>
        <property name="commandClass"><value>huard.iws.web.PersonListController$PersonListControllerCommand</value></property>
        <property name="formView"><value>personList</value></property>
        <property name="successView"><value>persons.html</value></property>
    	<property name="personListService">
            <ref bean="personListService"/>
        </property>
        <property name="recordProtectService">
            <ref bean="recordProtectService"/>
        </property>
     </bean>
     
     <bean id="personListHelperController" class="huard.iws.web.PersonListHelperController" parent="generalController">
     	<property name="personListService">
            <ref bean="personListService"/>
        </property>
     </bean>

    <bean id="editPersonController" class="huard.iws.web.EditPersonController" parent="generalFormController">
 		<property name="commandName"><value>command</value></property>
        <property name="commandClass"><value>huard.iws.bean.PersonBean</value></property>
        <property name="formView"><value>editPerson</value></property>
        <property name="successView"><value>persons.html</value></property>
        <property name="listService">
            <ref bean="listService"/>
        </property>

        <property name="personAttributionListService">
            <ref bean="personAttributionListService"/>
        </property>

        <property name="facultyService">
            <ref bean="facultyService"/>
        </property>
        <property name="validator">
        	<bean class="huard.iws.web.validate.EditPersonValidator"/>
        </property>
        <property name="mailMessageService">
        	<ref bean="mailMessageService"/>
        </property>
        <property name="messageService">
        	<ref bean="messageService"/>
        </property>
      </bean>

     <bean id="editProposalValidator" class="huard.iws.web.validate.EditProposalValidator">
     	<property name="proposalService">
            <ref bean="proposalService"/>
        </property>
        <property name="personListService">
            <ref bean="personListService"/>
        </property>

      </bean>


	<bean id="deletePersonController" class="huard.iws.web.DeletePersonController" parent="generalFormController">
 		<property name="commandName"><value>command</value></property>
        <property name="commandClass"><value>huard.iws.model.Person</value></property>
        <property name="formView"><value>deletePerson</value></property>
        <property name="successView"><value>persons.html</value></property>
    </bean>

	<bean id="editPersonAttributionController" class="huard.iws.web.EditPersonAttributionController"
		parent="generalFormController">
 		<property name="commandName"><value>command</value></property>
        <property name="commandClass"><value>huard.iws.bean.PersonListAttributionBean</value></property>
        <property name="formView"><value>editPersonAttribution</value></property>
        <property name="successView"><value>person.html</value></property>

        <property name="personAttributionService">
            <ref bean="personAttributionService"/>
        </property>

        <property name="listListService">
            <ref bean="listListService"/>
        </property>
		<property name="listInstructionListService">
            <ref bean="listInstructionListService"/>
        </property>

		<property name="listService">
            <ref bean="listService"/>
        </property>
        <property name="mopDeskService">
            <ref bean="mopDeskService"/>
        </property>
       <property name="validator">
        	<bean class="huard.iws.web.validate.EditPersonAttributionValidator"/>
        </property>

    </bean>

    <bean id="deletePersonAttributionController" class="huard.iws.web.DeletePersonAttributionController"
    	parent="generalFormController">
 		<property name="commandName"><value>command</value></property>
        <property name="commandClass"><value>huard.iws.bean.PersonListAttributionBean</value></property>
        <property name="formView"><value>deletePersonAttribution</value></property>
        <property name="successView"><value>person.html</value></property>
        <property name="personAttributionService">
            <ref bean="personAttributionService"/>
        </property>
        <property name="listService">
            <ref bean="listService"/>
        </property>
     </bean>

	<bean id="editPersonPrivilegeController" class="huard.iws.web.EditPersonPrivilegeController"
		parent="generalFormController">
 		<property name="commandName"><value>command</value></property>
        <property name="commandClass"><value>huard.iws.bean.PersonBean</value></property>
        <property name="formView"><value>editPersonPrivilege</value></property>
        <property name="successView"><value>personPrivilege.html</value></property>
     </bean>

	<bean id="conferenceProposalController" class="huard.iws.web.ConferenceProposalController" parent="generalFormController">
    	<property name="commandName"><value>command</value></property>
        <property name="commandClass"><value>huard.iws.bean.ConferenceProposalBean</value></property>
        <property name="formView"><value>editConferenceProposal</value></property>
        <property name="successView"><value>editConferenceProposal.html</value></property>
        <property name="conferenceProposalService">
            <ref bean="conferenceProposalService"/>
        </property>
        <property name="conferenceProposalListService">
            <ref bean="conferenceProposalListService"/>
        </property>
        <property name="personListService">
            <ref bean="personListService"/>
        </property>
        <property name="facultyService">
            <ref bean="facultyService"/>
        </property>
        <property name="messageService">
        	<ref bean="messageService"/>
        </property>
        <property name="mailMessageService">
        	<ref bean="mailMessageService"/>
        </property>
       <property name="locksService">
        	<ref bean="locksService"/>
        </property>
       </bean>
       
	<bean id="conferenceProposalAttachmentsController" class="huard.iws.web.ConferenceProposalAttachmentsController" parent="generalFormController">
    	<property name="commandName"><value>command</value></property>
        <property name="commandClass"><value>huard.iws.bean.ConferenceProposalBean</value></property>
        <property name="formView"><value>conferenceProposalAttachments</value></property>
        <property name="successView"><value>conferenceProposalAttachments.html</value></property>
        <property name="conferenceProposalService">
            <ref bean="conferenceProposalService"/>
        </property>
     </bean>
       
	<bean id="conferenceProposalListController" class="huard.iws.web.ConferenceProposalListController" parent="generalFormController">
    	<property name="commandName"><value>command</value></property>
        <property name="commandClass"><value>huard.iws.web.ConferenceProposalListController$ConferenceProposalListCommand</value></property>
        <property name="formView"><value>conferenceProposalsList</value></property>
        <property name="successView"><value>conferenceProposals.html</value></property>
        <property name="conferenceProposalListService">
            <ref bean="conferenceProposalListService"/>
        </property>
        <property name="conferenceProposalService">
            <ref bean="conferenceProposalService"/>
        </property>
        <property name="personListService">
            <ref bean="personListService"/>
        </property>
         <property name="mailMessageService">
        	<ref bean="mailMessageService"/>
        </property>
         <property name="facultyService">
        	<ref bean="facultyService"/>
        </property>
     </bean>
     
	<bean id="conferenceProposalGradeController" class="huard.iws.web.ConferenceProposalGradeController" parent="generalFormController">
    	<property name="commandName"><value>command</value></property>
        <property name="commandClass"><value>huard.iws.web.ConferenceProposalGradeController$ConferenceProposalGradeCommand</value></property>
        <property name="formView"><value>conferenceProposalsGrade</value></property>
        <property name="successView"><value>conferenceProposalsGrade.html</value></property>
        <property name="conferenceProposalListService">
            <ref bean="conferenceProposalListService"/>
        </property>
        <property name="conferenceProposalService">
            <ref bean="conferenceProposalService"/>
        </property>
        <property name="mailMessageService">
        	<ref bean="mailMessageService"/>
        </property>
        <property name="messageService">
        	<ref bean="messageService"/>
        </property>     
     </bean>

	<bean id="uploadImageController" class="huard.iws.web.UploadImageController" parent="generalFormController">
    	<property name="commandName"><value>command</value></property>
        <property name="commandClass"><value>huard.iws.bean.PageBodyImageBean</value></property>
        <property name="formView"><value>uploadImage</value></property>
        <property name="successView"><value>uploadImage.html</value></property>
        <property name="pageBodyImageService">
            <ref bean="pageBodyImageService"/>
        </property>
        <property name="validator">
        	<bean class="huard.iws.web.validate.UploadImageValidator"/>
        </property>
        <property name="messageService">
        	<ref bean="messageService"/>
        </property>
        
      </bean>


	<bean id="imageActionsController" class="huard.iws.web.ImageActionsController" parent="generalFormController">
    	<property name="commandName"><value>command</value></property>
        <property name="commandClass"><value>huard.iws.bean.PageBodyImageBean</value></property>
        <property name="formView"><value>editImage</value></property>
        <property name="successView"><value>editImage.html</value></property>
        <property name="pageBodyImageService">
            <ref bean="pageBodyImageService"/>
        </property>
     </bean>

     <bean id="postReportsController" class="huard.iws.web.PostReportsController"
    	parent="generalController">
    	<property name="postService">
            <ref bean="postService"/>
        </property>
        <property name="subjectService">
            <ref bean="subjectService"/>
        </property>
       </bean>



	<aop:config>
		<aop:aspect ref="recordProtectService">
			<aop:before
			      arg-names="type,id,username"
			      method="setRecordBusy"
			      pointcut="execution(* huard..*Service.get*(String,int,String)) and args(type,id,username)"/>
		</aop:aspect>
	</aop:config>



    <bean id="urlFilenameViewController"
    		class="org.springframework.web.servlet.mvc.UrlFilenameViewController"/>

	<bean id="personListServiceRmi" class="org.springframework.remoting.rmi.RmiServiceExporter">
  		<property name="service" ref="personListService"/>
  		<property name="serviceName" value="PersonListService"/>
  		<property name="serviceInterface"
      		value="huard.iws.service.PersonListService"/>
      	<!-- <property name="servicePort" value="9001"/>-->
  		<property name="registry" ref="registry"/>
	</bean>

     <bean id="instituteServiceRmi" class="org.springframework.remoting.rmi.RmiServiceExporter">
  		<property name="service" ref="instituteService"/>
  		<property name="serviceName" value="InstituteService"/>
  		<property name="serviceInterface"
      		value="huard.iws.service.InstituteService"/>
  		<property name="registry" ref="registry"/>
	</bean>

	<bean id="personAttributionListServiceRmi" class="org.springframework.remoting.rmi.RmiServiceExporter">
  		<property name="service" ref="personAttributionListService"/>
  		<property name="serviceName" value="PersonAttributionListService"/>
  		<property name="serviceInterface"
      		value="huard.iws.service.PersonAttributionListService"/>
  		<property name="registry" ref="registry"/>
	</bean>

	<bean id="messageServiceRmi" class="org.springframework.remoting.rmi.RmiServiceExporter">
  		<property name="service" ref="messageService"/>
  		<property name="serviceName" value="MessageService"/>
  		<property name="serviceInterface"
      		value="huard.iws.service.MessageService"/>
  		<property name="registry" ref="registry"/>
	</bean>

	<bean id="sendPostServiceRmi" class="org.springframework.remoting.rmi.RmiServiceExporter">
  		<property name="service" ref="sendPostService"/>
  		<property name="serviceName" value="SendPostService"/>
  		<property name="serviceInterface"
      		value="huard.iws.service.SendPostService"/>
  		<property name="registry" ref="registry"/>
	</bean>
	
	<bean id="pageWordsIndexerServiceRmi" class="org.springframework.remoting.rmi.RmiServiceExporter">
  		<property name="service" ref="pagesWordsIndexerService"/>
  		<property name="serviceName" value="PagesWordsIndexerService"/>
  		<property name="serviceInterface"
      		value="huard.iws.service.PagesWordsIndexerService"/>
  		<property name="registry" ref="registry"/>
	</bean>
	
	<bean id="urlsCheckerServiceRmi" class="org.springframework.remoting.rmi.RmiServiceExporter">
  		<property name="service" ref="urlsCheckerService"/>
  		<property name="serviceName" value="UrlsCheckerService"/>
  		<property name="serviceInterface"
      		value="huard.iws.service.UrlsCheckerService"/>
  		<property name="registry" ref="registry"/>
	</bean>
		
	<bean id="fundServiceRmi" class="org.springframework.remoting.rmi.RmiServiceExporter">
  		<property name="service" ref="fundService"/>
  		<property name="serviceName" value="FundService"/>
  		<property name="serviceInterface"
      		value="huard.iws.service.FundService"/>
  		<property name="registry" ref="registry"/>
	</bean>

	<bean id="pageBodyImageServiceRmi" class="org.springframework.remoting.rmi.RmiServiceExporter">
  		<property name="service" ref="pageBodyImageService"/>
  		<property name="serviceName" value="PageBodyImageService"/>
  		<property name="serviceInterface"
      		value="huard.iws.service.PageBodyImageService"/>
  		<property name="registry" ref="registry"/>
	</bean>
	
	<bean id="importCallForProposalsServiceRmi" class="org.springframework.remoting.rmi.RmiServiceExporter">
  		<property name="service" ref="importCallForProposalsService"/>
  		<property name="serviceName" value="ImportCallForProposalsService"/>
  		<property name="serviceInterface"
      		value="huard.iws.service.ImportCallForProposalsService"/>
  		<property name="registry" ref="registry"/>
	</bean>

	<bean id="parseOrganizationUnitServiceRmi" class="org.springframework.remoting.rmi.RmiServiceExporter">
  		<property name="service" ref="parseOrganizationUnitService"/>
  		<property name="serviceName" value="ParseOrganizationUnitFileService"/>
  		<property name="serviceInterface"
      		value="huard.iws.service.ParseOrganizationUnitFileService"/>
  		<property name="registry" ref="registry"/>
	</bean>
	
	<bean id="registry" class="org.springframework.remoting.rmi.RmiRegistryFactoryBean">
		<property name="port" value="1199"/>
	</bean>

<!--	<bean id="prepareSendPostsJob" class="org.springframework.scheduling.quartz.MethodInvokingJobDetailFactoryBean">
  		<property name="targetObject" ref="sendPostService"/>
  		<property name="targetMethod" value="prepareSendPosts" />
	</bean>

	<bean id="sendPostsJob" class="org.springframework.scheduling.quartz.MethodInvokingJobDetailFactoryBean">
  		<property name="targetObject" ref="sendPostService"/>
  		<property name="targetMethod" value="sendPosts" />
	</bean>

	<bean id="cronPrepareSendPostTrigger" class="org.springframework.scheduling.quartz.CronTriggerBean">
  		<property name="jobDetail" ref="prepareSendPostsJob"/>
  		<property name="cronExpression" value="0 1 * * * ?" />
	</bean>
	<bean id="cronSendPostTrigger" class="org.springframework.scheduling.quartz.CronTriggerBean">
  		<property name="jobDetail" ref="sendPostsJob"/>
  		<property name="cronExpression" value="0 25 * * * ?" />
	</bean>

	 <bean class="org.springframework.scheduling.quartz.SchedulerFactoryBean">
  		<property name="triggers">
    		<list>
      			<ref bean="cronPrepareSendPostTrigger"/>
      			<ref bean="cronSendPostTrigger"/>
    		</list>
  		</property>
	</bean>

-->



	<bean id="localeResolver" class="org.springframework.web.servlet.i18n.SessionLocaleResolver"/>

	<bean id="localeChangeInterceptor" class="org.springframework.web.servlet.i18n.LocaleChangeInterceptor"/>

	<bean id="urlMapping" class="org.springframework.web.servlet.handler.SimpleUrlHandlerMapping">
        <property name="interceptors">
			<list>
				<ref local="localeChangeInterceptor"/>
			</list>
		</property>

        <property name="mappings">
            <props>
                <prop key="/persons.html">personListController</prop>
                <prop key="/personsHelper.html">personListHelperController</prop>
                <prop key="/person.html">editPersonController</prop>
                <prop key="/deletePerson.html">deletePersonController</prop>
				<prop key="/personAttribution.html">editPersonAttributionController</prop>
				<prop key="/personPrivilege.html">editPersonPrivilegeController</prop>
				<prop key="/deletePersonAttribution.html">deletePersonAttributionController</prop>
				<prop key="/lists.html">listController</prop>
				<prop key="/listInstruction.html">editListInstructionController</prop>
				<prop key="/deleteListInstruction.html">deleteListInstructionController</prop>
				<prop key="/list.html">editListController</prop>
				<prop key="/deleteList.html">deleteListController</prop>
				<prop key="/listOrder.html">editListOrderController</prop>
				<prop key="/listColumnInstruction.html">editListColumnInstructionController</prop>
				<prop key="/deleteListColumnInstruction.html">deleteListColumnInstructionController</prop>
				<prop key="/login.html">loginController</prop>
				<prop key="/accessDenied.html">urlFilenameViewController</prop>
				<prop key="/welcome.html">welcomeController</prop>
				<prop key="/busyRecords.html">busyRecordsController</prop>
				<prop key="/loginAcad.html">urlFilenameViewController</prop>
				<prop key="/grantList.html">urlFilenameViewController</prop>
				<prop key="/proposal.html">editProposalController</prop>
				<prop key="/proposals.html">proposalListController</prop>
				<prop key="/conferenceProposalAffirmation.html">urlFilenameViewController</prop>
				<prop key="/conferenceProposal.html">conferenceProposalController</prop>
				<prop key="/conferenceProposalAttachments.html">conferenceProposalAttachmentsController</prop>
				<prop key="/conferenceProposals.html">conferenceProposalListController</prop>
				<prop key="/conferenceProposalsGrade.html">conferenceProposalGradeController</prop>
				<prop key="/viewList.html">viewListController</prop>
				<prop key="/viewListAdmin.html">viewListController</prop>
				<prop key="/sendMessage.html">sendMessageController</prop>
				<prop key="/uploadImage.html">uploadImageController</prop>
				<prop key="/editImage.html">imageActionsController</prop>
				<prop key="/printProposal.html">urlFilenameViewController</prop>
				<prop key="/proposalStateHistory.html">proposalStateHistoryController</prop>
				<prop key="/close.html">urlFilenameViewController</prop>
				<prop key="/post.html">editPostController</prop>
				<prop key="/partner.html">editPartnerController</prop>
				<prop key="/institute.html">editInstituteController</prop>
				<prop key="/personPost.html">editPersonPostSubscriptionController</prop>
				<prop key="/approvePost.html">approvePostController</prop>
				<prop key="/posts.html">postListController</prop>
				<prop key="/urls.html">urlsListController</prop>
				<prop key="/active.html">activePersonsController</prop>
				<prop key="/organizationUnits.html">organizationUnitListController</prop>
				<prop key="/organizationUnit.html">editOrganizationUnitController</prop>
				<prop key="/organizationUnitAttribution.html">editOrganizationUnitAttributionController</prop>
				<prop key="/deleteOrganizationUnit.html">deleteOrganizationUnitController</prop>
				<prop key="/enablePersonUser.html">enablePersonUserController</prop>
				<prop key="/viewMessage.html">viewMessageController</prop>
				<prop key="/postReports.html">postReportsController</prop>
				<prop key="/error404.html">urlFilenameViewController</prop>
				<prop key="/error500.html">urlFilenameViewController</prop>
				<prop key="/close.html">urlFilenameViewController</prop>
				<prop key="/editCallForProposal.html">editCallForProposalController</prop>
				<prop key="/callForProposal.html">callForProposalController</prop>
				<prop key="/editTextualPage.html">editTextualPageController</prop>
				<prop key="/textualPage.html">textualPageController</prop>
				<prop key="/callForProposals.html">callForProposalListController</prop>
				<prop key="/textualPages.html">textualPageListController</prop>
				<prop key="/categories.html">categoryListController</prop>
				<prop key="/category.html">editCategoryController</prop>
				<prop key="/temporaryFund.html">editTemporaryFundController</prop>
				<prop key="/temporaryFunds.html">temporaryFundListController</prop>
				<prop key="/searchPage.html">searchWebsiteController</prop>
            </props>
        </property>
    </bean>

    <bean id="viewResolver" class="org.springframework.web.servlet.view.InternalResourceViewResolver">
        <property name="viewClass"><value>org.springframework.web.servlet.view.JstlView</value></property>
        <property name="prefix"><value>/WEB-INF/jsp/</value></property>
        <property name="suffix"><value>.jsp</value></property>

    </bean>
    
	<bean id="startUpService" class="huard.iws.service.StartUpService" 
		init-method="init">
    	<property name="personPrivilegeDao">
            <ref bean="personPrivilegeDao"/>
        </property>
 	</bean>
</beans>